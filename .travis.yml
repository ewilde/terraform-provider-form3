dist: focal
language: go
go:
- 1.16.x
script:
- go run scripts/travis-wait.go make
after_success:
- make release
env:
  global:
  - FORM3_HOST=api.symphony.env.staging-form3.tech
  - secure: CZFXR1YNhtD5HtKni5EPkAkiI6DxoyUUtPLp0Q++L+NHvY1WiEsYsD+V3vMIMtBkLkJw4sQfiMSpu+eHA9LsbJ4UzoH+P1dT8iH0t0nkggFpa7Xhi+Niw/UN2MfpbWnT2/yFLwFYB41QL6zy7bjy8RNDQkgPKC+EHT9Qv3x5jj9hoDq0U7+LOfrh53Qd2GSWIeAuRDY65phtr4yEOEmHoWeTpZ17e4smXpnRZrMu/wRwywXGlxdsxgWp9Pa16OkaEF25Ytby8sjEMtZP6J5HLdXwxBs+6oEfe0naLcFGoLqkv9l15EMzo9D1M5p4dPVB/x+QWUs5/u8A/S6+YUEffpmZfA8DnE/9rbs78+OTudDMCDRu1PcvKOl5P8K0re3a4rxeFowUxL9pJhDBxDH75ODxDfxUd1MC+F62o850HOb9JqUFYz+h6e4GAHvu4xJLi71Yy59TgsIs9QktpbAXSNstvzLcbbzoLVKHc8BXU/t56g7D+50pmyCpcfz5vsHCkkJeB7c2sK9pQ1YHNBY+ciwS/X2vYOIXVw6dsxfba7xXctv0ooAzjYhdOBHGmYng3OZ6fQ1HnDAjFtIwoACUtT+RjzMxnhkGjvYlgnHXs8wZTDCPoEytlDTC7/NuYYoTvhALzrxBlR0QUqiYi0598lyC49DKkmeAF/p//V66dJA=
  - secure: qVIf5m/L8z28jhLR4Xx0uJzgnFcm8ETQubJXx2oru63R9rXLZAKfw9wblajmUAL2a8Kvh+SlLsM0ucZKhyC0pXieVrRpqIKSrV72UjAESvx6+nZuTwhT4z1YsR0hctXq2+ep2N1ho7O/Iiq5tKCfNIG8IKaMGGBJw7kVWWjXVe9cK9Tkij0kRodIu8max+k+Jy+nSyjvQZXRS0jVdDlsG0E4vGK9F9iXkc2ZmZ+QeUbeOsbXCHGdBZ33v5GKLARL6dowwIT1n2ODvExGI6oYekVTEhHsa4ik9CJjvEtI+asnYYlfFU5MautlOJ9TSZQF2kbMXxeZucQKhSYhfa7Yw533l+gx1oMUV4N2dw8E8/8W5EAkCY/kH94479zy2PbUQG1yYWyae3uOcN1ROmuttdxqBDLF1fzX/bdCIEcKBhA+XzrtARzaIGzYc9HG64z6l+vtMzPJq+zPmu+v8lwoh5gHHb/gxDEDC2bWNq6/wI2TydmpQVW6xVURlYM1EH9foz35+HmQIKceGiDo+lvq/p9hW0KzxF44noAW0MWZVUGz6NpwYYmPqEcjeXWpUUrTFlaa+kFdp9aKevcC1sQdUincIgPwAZijmLsIkbFP4rK1TNyXEMROxcs+XJk7khXWyH9HBE93irJAzLWnzkL1SpWIZvye0BwlGaAJXHnolx8=
  - secure: x1lejvjTYPaTa4WK+duq2C38qm0KRN5WIDqms1AafCz07jJrp5JwusXSz1KvSaqCpqRu81Md2MGhyljHIReM6ATP4n/5iRDkdIJQLz2XoEH2TKKpmtPVLKppX8+u/At5ByeJlHrCNcY7xP92I7t8h5h7Irqr8n1BYMRHlIF2qg7QpECTiJ2xhiQWT/bGTJjvLKkUx6QdJn+fRsGU02is013zAfmXuACCkspmG+IIFZ8e1fTy6ypys1gEeYtK6aAhJJodWRIHlDnGwhQqnKzfuXUbc1iPRChM3jfHGI6PT4iW1dfQuloKmvdsl3zOy8hX8gYK1muDV0i6tH8UoAW/97jyFrbhghx/Jl1hdvdPVGoz1ALiZMbj0K5U8OKlr741HKb++Rk33jeB3RbbBK41UCvB/0fSfQIhkoGDMIoWwcBUPZP4a+00Dnn9smlvM/Q3jdza04gjOsdKrtnGZnbc/Zj2f92Y0NIwuTTXKq8krnua9k55EtilpIX8ifgzgsg7AgQptc+JK3CBbiaXTxC+qPo6nm+TGQ2Na2fCGMe5gQets84knN5cOoJwJKU8DtAme/0t1mKGApGkSFvgv3ZmAlNAiaGfWSZaF2yHdbL8Rr8OXSfxrkL1jY8zUETCCIbkyEDZWR7RYfaWvomrYzsmKEQIiP4/Ix4TKAFjdiAUqjE=
  - secure: xg8LIrJgp/HjGsbWC0oViRQCYyqcA1XLsm2szHS1dLXPQbgMs4zCo7uF7yYebhGpxXZzdLv5omizLpUtRnaphz/f1PpCfqMQ92PB9IBBu6J0uPhykNVvmrI4bk2xu4bgvKLfA3oQqUJ657jcE6uB2WHbtAef21ryIJhrSG4KVKQuXl3MqLGnwAdnmNsiQ1jEu+e/872a5A2vkuyz8vJDkj+p9eW5IkRRqD0KpD0Cl1tQI7PUR8IjxCtvtDb8whM6q1qD60q8mqKZIqzoRZdLBSTas0AENkkhxpiBj09oAddQvPZ3wrMz4bBTG7Y5KmJDj52IUpjPK62mhvtJaSj+KDUIebvLTK+u+iZ1EZLS9ovdwIT5HSdtz5SP8nj4aGpaAXa59vutjeF/IJmRg6hiNbOmiOiuw6JuHPJydxexF9avHAEUXX0frBvAcHdJAhJj4bGseQlUaYrgBNeZj3IB2SU4JbOxGpNyd52az83ioIi1wCa7wcXUVheo/kT6PWXhlzE6H3uoJtvBccG2t4qnq9ZPiKp++AZ07L0JfPzgjORNyx6ZFRx9cXbfVGPGk4P6edP2Cd2Vm/y8xNY1kQC9BQ6FHPe6Q7SpkVjeGke1A3U6w7QBfMW2/qtjLHh01Ifo0IzAHasw3U98/qvfKsBFcjAUv4qGFdUCB1WbjHn0A5A=
  - secure: rylX+cVNww77GxrRyRqytZz/qHZLQjNSgA5PauFHeNo8ezJdcnFOUwlHT6eYnol8kSVLBR14hUEWtTwPpz2VqC3VExPjdFSoYHBHsnwlKP9ANn1+SvR9MtrjLPQ4HaMV7Ey0X/nNzWy/vS4JAikZjgYn9rsMoyNQQy1Q2XvYnlxAkRB7O0ben/5bOgxUutzlZyR7nD/tn4zXqXIDDIqF1z46+mGV0x7d0XKaeOSKZSzmM97iqcbisAWP2RBxg40quK5O4UVY3+LMH/AfvK9fI7loWb/8byjkz7mh5EXEMBHLQbhGQpSWJ0w8jjjkts0tvt7X5R2Pgx6+HTOat0qFDQ2lftWVDLXvldRHmZ8uqBw6R3ndCcfSvUAzOhFsaRSqIA+3tG4cvp1fXllvQqYDkwiQQoB1B42Wzbt0mA51OEJX6M7Fg04kV6CZElEw7b3AoNrS94d8YjXJjCZLi/+g/JrrnjeJ9y2xeIWyO4QVy90Sq1Ar+33GrGVubkWp2AyOs24GrG4VM5Fch8+u6ELAAFU2ejqTuusqrI6NN8PTFHMbdvM/OMOFojSqgJmqjzRq3clPmf2Wsq01bUrjhCmYnphvUmVFNWu8I7Gfjbtq72W8lqam5nAqI5h07hmy4DWLMnV+6m3AQ87xYjm1sAbdA+OldFyul6TwH36+q7WjYTw=
  - secure: Av1bVIKz31Sa0e2c5W0gx+TE3g354x2I1x+CJ139Bf0j+2oSO5XLl3CZmV8Fg4uc5ZH0bt5LNazYSiQj7JjzujbLljj7UrguZ7HGuqni2g+PnNmurGwEHAZjZfPxZEwXP4EN4O/O9nPc+Tl/AeCm3sNBusk8+gkMAIj1SGUsPOKt/1Ju05PUk+wAh7WH8gVr2hmqoS4Ey3vgl634G5qAmqdqWAWL04F5PjPe5vFDYT/+XH5R8JkoANbSz5Kdb0khxujuKGWsVxBzjCdpAIS4bpIPzg/fVsvEQfcaJ/g1CZ5fjhTr07rv4e/naugTv7DX0+3S5mLN2Qd9nvv5KbftK8P7glNnd0H5CWNmlYP8LeA3ER+ujOA4SeQWys2X6EscGDibyOFNOPQcm8ROwj4fUoFykV/pnF5gCrj/nKY3CKkyDPLae+fPkh2P8KDrksg1lGM1zSy7TCxkcRGb5JCCQbesovSwYSt8MU7K2SqACczw0g/6APdQmxtOMCeFes2MSJSxTrMayQPzZK2bRKayJr/MYiUuwSipCDDeTYTrTEJGCi0+PV+px/QhOZd5ahPNoAZl0YiExwYo34wkn3PSWcJK9vkc4UROTKb3wNnKv3VesQCjly/S0J87piOyvg8QO9oSM81NK1g8aN5drdcGp7HlZ3j8LXfTOT7W8LHuCsE=
notifications:
  slack:
  - rooms:
    - secure: 0MnI4+fQ6qFhYAHErPHUgxFLHjqUBpk5YgoK/Pr3/GDW6F0q6HY3TkDDis4Pz0s2V+ExbLfYn4ORIBz8HtgkkPyH28b8/AlXN8gzA7fcRv6ElWLrmLbqfvQdaIIChQ3r675z1da+FxGmpgWIKqKnDmwMEgHEZiY58IMBJT49dBbBYqIkKmxoWf7rwXWcFReiKPGxb+aySa+QCR4Q8t0XNSQ+065oTfhMD/i6JJn1/Nrh+elvfZnGCmdzMAhg8JngGg9J0vTxtdZuNBBAziJhnQBua5i37SQ3wMqB2s8ICb+fS9hmvcKarRi7mx63oFTI/taBR2a71avV6ks6G/8utPclcIW44XhuO2xzNA2HCgSHH4cOBKWAAmp0GRFNUAGzOSgUUBNwSWcAHGlgbmz/DDzIqgF0gPd1p7fKLCLj9AesBiR0WB4BOsbYh0EdaDfEoS7EU74Ab2OPImYE29UrCaSHPJuAGdyZ9r8ynrvaieNAyo9Q6z8tzJ7KG4rRg4ZWjtXbGZK8z/WhYQ6JCeRdiERdfPbzGYV+cJskKVfAi8WwTU8QR117Fg1U9al9A9j2RrUt9VBio4rqcneYovFo9H3DUY7SzPE+gxyS0Yeh/pOxHihf7MKAvjicTi2KtaNvFBasJVxiPkWdkSbwjE3ScthPJnySzpDOBmMgEijW9Tk=
  - rooms:
    - secure: dxkebBJithsGYa1WsAjRxmj7aIZCelQ3sRsxqXxxURgv0UqqR4g+bW22/1aJUuSLZT02svay+irjgpwo7rbZR5VKZt5JUuG//GEGkavn0teg8RZPdRFAyq9z7hWYUyGKnQWv8qoBqVEgbI1l4Nzpoxd+qDWQrM+3VDDmcQ7CnciFfhCatHCan7+XJuLVjyh4relJYiFtGM3b9EVLVJOso++jQp5fndy5fJXZPgv4mxhlQareLPa6N147hoUH0XTrVSSatITg+cySHojGjj2SWt6o+gRNpKPiYZtBQWwZPPeF8YjSfhxM8m0h2eM71/UUSbH2hFWGlascmnLesGLl0Krv8ijXec/p/0v7dX0oieVW0UGH0qpvDNxPC+AwBCHo1cyczzwyFiuZEijC/N6w90ivU3qfNXyx7cWKfivVKsIBvMTC4cJRmwElhGLR1WLGlVQaON/d39nn88T59OS7mvlIx8sdWi4nwjyP6zcv1do765BkoJRPEHvWQCnXWgRvLsaiCJqGd/RRqvfJUXDxErtFTzEGBDzxzzhJYUTXsZ1sJaJ/I9aRVdf7Juf9hbGw9Mt445D06jYy43XXGXSUTAPxZ/VUeI4ssqFUQ7K+Ag0QH/1HlT2RMZT2dEwG2j81haNyLSu9oY59a1rd2FR9FbTUdzlW63lv1Jk06jYlisI=
    if: branch = master
    on_success: never
    on_failure: always
    on_pull_requests: false
    template:
    - ":scream: FAILED BUILD"
    - "*%{repository_slug}* on *%{branch}*"
    - ":gottarun: and make it :raggreen:"
    - "Build details: %{build_url}"
